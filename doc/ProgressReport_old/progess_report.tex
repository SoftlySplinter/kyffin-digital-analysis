\documentclass[11pt,fleqn,twoside]{article}
\usepackage{makeidx}
\makeindex
\usepackage{palatino} %or {times} etc
\usepackage{plain} %bibliography style 
\usepackage{amsmath} %math fonts - just in case
\usepackage{amsfonts} %math fonts
\usepackage{amssymb} %math fonts
\usepackage{lastpage} %for footer page numbers
\usepackage{fancyhdr} %header and footer package
\usepackage{mmpv2} 
\usepackage{url}
\usepackage{cite}

\usepackage{array}
\usepackage{algpseudocode}

\usepackage{mversion}
\increaseBuild

\begin{document}

\name{Alexander David Brown}
\userid{adb9}
\projecttitle{Kyffin Williams: Digital Analysis of Paintings}

% Same as the project title or abridged version for page header
\projecttitlememoir{Kyffin Williams: Digital Analysis of Paintings} 
\reporttitle{Progress Report}
\mmpversion{\version}
\docstatus{Draft}
\modulecode{CS39440}
\supervisor{Hannah Dee}
\supervisorid{hmd1}
\wordcount{??} %TODO

%optional - comment out next line to use current date for the document
%\documentdate{26th October 2011} 
\mmp

\setcounter{tocdepth}{3} %set required number of level in table of contents
\tableofcontents
\listoffigures
\listoftables

\newpage

%==============================================================================
\section{Project Summary}
%==============================================================================
%This section should introduce your project and provide an overall summary of what your project is
% about and why you find it interesting, challenging and worthwhile. You should briefly note how
% this project relates to your particular degree scheme.
Sir John ``Kyffin'' Williams was a landscape painter from Wales whose work was predominantly based 
in Wales and Patagonia. His work, with associated metadata collected by Gareth Lloyd Roderick and 
the National Library of Wales, allows for some interesting analysis; particularly that of temporal 
or geological data for a given painting.

Temporal analysis will be the focus of this project as it allows for a diverse range of techniques;
from statistical analysis of RGB values of the paintings to looking at the length and style of 
paintbrush strokes. 

Whilst it would be nice to be able to predict the age of a painting with no known year, it is far
more interesting to try to guess the year of paintings where the date is known. This allows for
cross-validation of the techniques employed to guess the year. This project will use leave-one-out
cross-validation for simplicity as the data set is small enough to allow this computationally 
expensive technique.


%==============================================================================
\section{Background}
%==============================================================================
%This section should describe any significant examples of similar or related work done and by whom,
% or what similar products exist, and what you can learn from these in relation to your project.
% This section must refer extensively to your bibliography (see below).
There are many papers which look into the digital or computerized analysis of paintings, many of 
these focus on the authentication of paintings by a given artist. Many others go into the analysis
of (brush) stroke detection or classification of the painting tool used to make strokes.

The idea of classifying the year of a piece of art has been researched before, however it seems to
focus around the method of printing the work, or providing a very general answer for old pieces of
work.

The \textsc{authentic} project\cite{citeulike:11446581} deals with the computerized authentication
of paintings and defines a useful method for analysing the brush strokes of Vincent Van Gogh.



%==============================================================================
\section{Goals and Objectives}
%==============================================================================
%This section should explain in detail what your finished software (or hardware, e.g. for a
% robotics project) will do. What will be the inputs and outputs for the system? What will be its
% limitations? How will you evaluate its success?

%==============================================================================
\subsection{Analysis Goals}
%==============================================================================

\subsubsection{Statistical Analysis}
The first goal for the analysis section of the Kyffin Williams Project is to statistical analyse
colour space values of the pixels of an image. Typically taking the mean and standard deviation
over a whole painting.

The two colour spaces this project will typically focus upon is RGB (Red, Green, Blue) and HSV
(Hue, Saturation, Value) colour spaces. The project may explore other colour spaces further into 
the project.

After basic statistical analysis, the next step is to create histograms for each image in both 
colour spaces and use these to analyse the values these contain.

\subsubsection{Distance Measures}
Part of the analysis will need to include a way of measuring the distance of two outputs from the
associated technique; for points in space distance measures such as Manhattan Distance 
(Figure~\ref{eq:manhattan}) or Euclidean Distance (Figure~\ref{eq:euclidean}). For more complex
forms, such as histograms, specialised distance measures will be needed.

\begin{figure}[p]
\[
d = \sum^X_{x=0}{|a_x - b_x|}
\]

\(X\): All dimensions present in both \(a\) and \(b\).\\
\(a\): The first point.\\
\(b\): The second point.

\caption{Manhattan Distance}
\label{eq:manhattan}
\end{figure}

\begin{figure}[p]
\[
d = \sqrt{\sum^X_{x=0}{(a_x - b_x)^2}}
\]

\(X\): All dimensions present in both \(a\) and \(b\).\\
\(a\): The first point.\\
\(b\): The second point.
\caption{Euclidean Distance}
\label{eq:euclidean}
\end{figure}

\subsubsection{Brushstroke Analysis}
After these techniques are implemented there is a lot of space to develop new techniques specific 
to both painting analysis and to Kyffin Williams. One very interesting technique is to analyse the
brush strokes the artist made on the painting. It is clear from looking at his work that he 
dramatically reduces the number of brush strokes he makes as time goes on. 

According to the \textsc{authentic} project ``The digital extraction of brushstrokes proceeds in 
two steps: (I) contour enhancement, and (II) quantification of brushstroke 
shape''\cite{citeulike:11446581}. They perform contour enhancement by applying a circular filter to
the image, this filter picks out the characteristic parallel contours of brushstrokes. For the 
works of Kyffin Williams this may not work as well as he typically used a pallet knife %FIXME was this the right tool?
to paint with, instead of a regular paintbrush.

Once these contours are enhanced you can then fill a closed area for each brushstroke, reduce this 
to a thin line and finally fit some form of polynomial function to this line. Again, for the Kyffin
Williams project the third part of this may not be applicable as the \textsc{authentic} project
specialises in ensuring the authenticity of a painting and does so by verifying that the 
brushstrokes in one painting match the style of Van Gogh. Even looking at the number of visible
brushstrokes in Kyffin Williams' work may be enough to classify a painting.

%==============================================================================
\subsection{Machine Learning Goals}
%==============================================================================
The Machine Learning (ML) module is designed to classify analysed paintings to the training 
examples in order to get the approximate year the were created.

Machine Learning on it's own is a large and complex field, so the techniques used here may be
simple to ensure the project completes on deadline.

\subsubsection{K-Nearest Neighbour Classification}
The simplest solution to the classification problem is to take the nearest neighbour of a given,
analysed, painting and set the year of the new example to the one of the existing example. This
is highly dependant on the type of analysis, noise in the training examples, etc.

It is, however, very simple to implement (see Figure~\ref{fig:1-nn}), with simple modification
one can easily change 1-Nearest Neighbour to K-Nearest Neighbour (see Figure~\ref{fig:k-nn}) and
approach with different values for K to give a potentially more accurate answer. K-Nearest 
Neighbour also has options for interpreting the result, by taking the modal result or a mean of all
the results.

\begin{figure}
\begin{algorithmic}
\State $bestDistance \gets \infty$
\For{$x = 1 \to X$}
	\If{$distance(a, x) < bestDistance$}
		\State $bestDistance \gets distance(a, x)$
	\EndIf
\EndFor
\end{algorithmic}

Where:\\
\(a\) is the example to classify.\\
\(X\) is the list of all training examples.
\caption{1-Nearest Neighbour}
\label{fig:1-nn}
\end{figure}

\begin{figure}
\begin{algorithmic}
\State $kBest \gets []$
\For{$x = 1 \to X$}
	\State $cur \gets distance(a, x)$
	\For{$k = 1 \to K$}
		\If{$cur < kBest[k]$}
			\State $temp \gets kBest[k]$
			\State $kBest[k] \gets cur$
			\State $cur \gets temp$
		\EndIf
	\EndFor
\EndFor
\end{algorithmic}
Where:\\
$a$ is the example to classify.\\
$X$ is the list of all training examples.
$K$ is the number of nearest neighbours to check.
\caption{K-Nearest Neighbour}
\label{fig:k-nn}
\end{figure}



%==============================================================================
\section{Current Progress}
%==============================================================================
%This section should report on the progress that you have made so far into the project. You should
% arrange your content into the following three sub-sections.

%==============================================================================
\subsection{Technical Challenges}
%==============================================================================
%This section should explain in reasonable detail the technical problems you have identified.
% Explain how you propose to solve them or how you are attempting to find solutions.

% Learning Image Processing.

%==============================================================================
\subsection{Outline Design}
%==============================================================================
% This section should present an outline design for the structure of your software (and hardware if
% applicable - e.g. a robotics project). This should consist of diagrams and descriptive text. It
% should present the major modules, their relationship to one another, and their interfaces.

%==============================================================================
\subsection{Implementation Options and Choices}
%==============================================================================
% This section should describe in reasonable detail the specific algorithms, languages, APIs, 
% packages etc. that you could use in your project, which of them you have selected for use, and 
% why you have selected them.

%==============================================================================
\subsubsection{Computer Vision \& Image Processing Library Decision}
%==============================================================================
%Describing the pros and cons of the available image processing libraries.
% OpenCV - Difficult to install. Fairly standard for CV.
% FIJI - Large, easy to use, difficult to use as an API.
% IVT - Difficult to install. Difficult to include as part of a project. Relatively large.

Aside from directly reading pixel values using built-in language features or a simple image or 
graphics library, there are a variety of computer vision and image processing libraries. Each of
which have numerous functions to manipulate and process images.

\textbf{OpenCV (Open Source Computer Vision} (\url{http://opencv.org/}) is one of the more popular 
choices for Computer Vision libraries, boasting C, C++, Python and Java interfaces for several of 
the common platforms, including mobile devices. OpenCV leverages multicore processing and 
optimized C/C++ code to be able to handle real-time systems.

\textbf{FIJI (FIJI Is Just ImageJ)} (\url{http://fiji.sc/}) is Java-based image processing package,
is akin to a distribution, packaging ImageJ, Java3D and a lot of other useful features to provide
a coherent user interface for the packaged image libraries.

\textbf{IVT (Integrating Vision Toolkit} (\url{http://ivt.sourceforge.net/}) aims to provide an
easy to use, stand-alone C++ computer vision tool kit. It's features include camera interfaces and
fast implementations of computer vision techniques as well as mathematical data structures and 
functions.

%TODO - Explore more CV libraries.


\begin{table}[p]
\begin{tabular}{| p{6em} | p{6em} | p{6em} | p{6em} | p{6em} | p{6em} | p{6em} |}
\hline
\textbf{Library} & \textbf{License} & \textbf{Language Support} & \textbf{Platform Support} & 
\textbf{Installation} & \textbf{Usage}\\ \hline

OpenCV & BSD & C, C++, Python, Java & Windows, Mac, Linux, Android, iOS & Medium & Easy - Fair. \\ \hline

FIJI & GPL \newline Individual per plug-in & Java & ? & Easy - Fair & Medium \\ \hline

IVT & Modified BSD & C++ & Windows, Mac, Linux & Medium & Medium \\ \hline

\hline
\end{tabular}
\caption{Details of Computer Vision Libraries}
\end{table}

\begin{table}[p]
\begin{tabular}{| c | c | c | c | c |}
\hline
\textbf{Library} & \textbf{Image Filtering} & \textbf{Transformations} & \textbf{Histograms} & \textbf{Structural Analysis} \\ \hline

OpenCV 	& \checkmark	& \checkmark	& \checkmark	& \checkmark 	\\ \hline
FIJI	& 		&		&		&		\\ \hline
IVT	&		&		&		&		\\ \hline
\end{tabular}
\caption{Features of Computer Vision Libraries}
\end{table}

%==============================================================================
\section{Project Planning}
%==============================================================================
% This section should deal with your planning for the project. You must include the following
% sub-sections.


%==============================================================================
\subsection{Process Model}
%==============================================================================
% This section should describe the process model that you have chosen to follow and explain why you
% selected this approach.

%==============================================================================
\subsection{Weekly Plan for the Project}
%==============================================================================
% This section should provide a reasonably detailed plan of what you need to do in each remaining
% week of the project period, including specific major achievements at the appropriate points.

%==============================================================================
\subsection{Demonstration Plan}
%==============================================================================
% This section should discuss what you will need to do to prepare for a demonstration and the end
% of the project. Are there any special requirements, e.g. you must demonstrate some hardware
% outside, or you need to be in a dark room to demonstrate a particular image analysis technique?

%==============================================================================
\section*{Annotated Bibliography}
%==============================================================================

% This should list things that you expect to read to help with your project. For example, your
% supervisor may provide you with some references that give essential background to your project
% and you are likely to need to do some preliminary reading of the scientific literature, text
% books, and internet material.

% The purpose of the section is to understand what sources you are looking at and expect to be
% looking at.  For this document, a list of items is sufficient. You might go further and make use
% of bibliographic tools, e.g. BibTeX in a LaTeX document, could be used to provide citations, for
% example \cite{NumericalRecipes}\cite{MarksPaper}\cite{FailBlog}\cite{kittenpic_ref}. The
% bibliographic tools are not a requirement in this document, but you are welcome to use them.

% example of including
\bibliographystyle{plain}

% If you put text into the final {} on this line, you will get an extra title, e.g. References.
% This isn't necessary for the outline project specification. 
\renewcommand{\refname}{}  

\bibliography{mmp} % References file


\end{document}
