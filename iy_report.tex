\documentclass[a4paper,11pt]{report}

\usepackage{fullpage}
\usepackage{glossaries}
\usepackage{hyperref}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\newacronym{apar}{APAR}{Authorized Program Analysis Report}
\newacronym{api}{API}{Application Programming Interface}
\newacronym{apt}{APT}{APAR Polling Tool}

\newacronym{cics}{CICS}{Customer Information Control System}

\newacronym{db2}{DB2}{IBM DB2}
\newacronym{db2luw}{DB2 for LUW}{IBM DB2 for Linux, UNIX and Windows}

\newacronym{edt}{EDT}{Explorer Delivery Tool}

\newacronym{fmt}{FMT}{Fix Metadata Toolkit}
\newacronym{fv}{FV}{Functional Verification}

\newacronym{gbs}{GBS}{Global Business Servicess}
\newacronym{gnu}{GNU}{GNU's Not Unix}
\newacronym{gts}{GTS}{Global Technology Services}

\newacronym{ibm}{IBM}{International Business Machines Corporation}
\newacronym{it}{IT}{Industrial Trainee}
\newacronym{itd}{ITD}{Intergrated Technology Delivery}

\newacronym{j2ee}{Java EE}{Java Platform, Enterprise Edition}
\newacronym{jsp}{JSP}{JavaSever Pages} 

\newacronym{ldap}{LDAP}{Lightweight Directory Access Protocol}

\newacronym{mq}{MQ}{IBM WebSphere MQ}

\newacronym{osgi}{OSGi}{Open Services Gateway Initative framework}

\newacronym{pcomm}{PComm}{IBM Personal Communications}
\newacronym{pdm}{PDM}{Personal Development Manager}
\newacronym{pe}{PE}{Programming Error}
\newacronym{plx}{PL/X}{Programming Language/Cross System}
\newacronym{pmr}{PMR}{Problem Management Request}
\newacronym{ptf}{PTF}{Program Temporary Fix}

\newacronym{retr}{RETAIN}{Remoth Technical Assistance Information Network}
\newacronym{rhel}{RHEL}{Red Hat Enterprise Linux}
\newacronym{rtc}{RTC}{Rational Team Concert}

\newacronym{stg}{STG}{Systems and Technologies Group}
\newacronym{swg}{SWG}{Software Group}

\newacronym{uhl}{UHL}{Unit History Log}
\newacronym{uk}{UK}{United Kingdom}
\newacronym{us}{US}{United States of America}

\newacronym{was}{WAS}{IBM WebSphere Application Server}

\begin{document}

\begin{titlepage}

\begin{center}


% Upper part of the page

\textsc{\Large Industrial Year Report}\\[0.5cm]


% Title
\HRule \\[0.4cm]
{ \huge \bfseries IBM Level 3 CICS Service Engineer}\\[0.4cm]

\HRule \\[1.5cm]

% Author and supervisor
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Author:}\\
Alexander \textsc{Brown}
\end{flushleft}
\end{minipage}

\vfill

% Bottom of the page
{\large \today}

\end{center}

\end{titlepage}

\tableofcontents

\chapter{Organisational Environment}

\Gls{ibm} is an American multinational technology and consulting corporation, with it's headquaters
in New York, America. \Gls{ibm} sell a wide range of technical products, both hardware and
software, in areas ranging from mainframe computing to nanotechnology. As well as technical 
products \gls{ibm} also offer a range of consulting, hosting and infastructure services.

\Gls{ibm} are also know for innovation; holding the largest number of \gls{us} patents, building
new technologies such as \gls{ibm} Watson and pushing corporate initatives like Smart Planet.

\Gls{ibm} is split into several different business areas which are listed below:

\begin{itemize}
\item \Gls{gbs}
\item \Gls{gts}
\item \Gls{swg}
\item \Gls{stg}
\item Sales \& Distribution
\item \Gls{itd}
\item Intergrated Managed Business Process Services
\item \Gls{ibm} Global Financing
\end{itemize}

I was employed under the \gls{it} scheme in \gls{swg}{United Kingdom}. Based at the Hursley site in 
Hampshire, the main \gls{swg} site in the \gls{uk}.

\Gls{swg}\footnote{\gls{ibm} is such a large company, it would take over 5,000 words to explain the
whole structure, so I shall focus on my specific working areas.} is split into five brands: DB2, 
Lotus, Tivoli, WebSphere and Rational. \Gls{swg} in Hursley is largely WebSphere-based.

\Gls{cics} Transaction Server\footnote{\Gls{cics} Transaction Server is typically shortened to CICS
internally} is a part of the WebSphere brand. Like many products in \gls{swg} \gls{cics} has 
several different deparments: development, test (\gls{fv} test, system test, etc.) and service.

All service departments in \gls{ibm} are split into three distinct levels:

\begin{description}
\item[Level 1 Service] Are the first point of contact for customers. They deal with basic problems
with the product and have a general understanding of the product. If the problem can't be solved by
Level 1, it is elevated to Level 2. All problems reported to Level 1 are raised as a \gls{pmr} and
are tracked by \gls{retr}.
\item[Level 2 Service] Have a good working knowledge of the product and are typically able to 
diagnose and solve customer problems. If Level 2 are unable to diagnose the problem the \gls{pmr}
is elevated to Level 3 or, if the diagnosis reveals a problem with the product an \gls{apar} is
raised against Level 3. 
\item[Level 3 Service] Have a very good knowledge of diagnosing problems with the product and of
the internals of the product and are authorised to make changes to the source code of the product
to fix problems raised by \gls{apar}s. The majority of Level 3 work involves handling \gls{apar}s,
however some specialist members of the team handle \gls{pmr}s.
\end{description}

Due to the specialist knowledge required to work in the \gls{cics} Level 3 Service team I was not
expected to deal with either \gls{apar}s or \gls{pmr}s\footnote{It can take graduates up to a year
and a half to work without constant supervision.}. My main role in the team was to maintain 
existing tooling and to develop new tooling which would benefit the team.

At the start of the year my main responsibilities were to maintain a tool which would gather 
statistics on \gls{pmr}s and \gls{apar}s in \gls{retr} and a system named ``SPA'', a z/OS based
working environment specific to \gls{cics} Level 3 service. However, due to a process change about
a year before I joined \gls{ibm}, a new working environment; \gls{rtc} was being used for all new
releases of \gls{cics}.

I was initially tasked with intergrating this environment into the 
statistics tooling, or vice versa as \gls{rtc} could potentially provide management and statisics
gathering by default.

After some changes to the team I was asked to change my focus to maintaining a large tool which
pulled \gls{apar}s from \gls{retr} into \gls{rtc}. This tool was also designed to perform other
functionality such as delivering fixes for the Eclipse-based suite of tools for \gls{cics} to
update sites and \gls{ibm}'s central fix management site - Fix Central.

Due to consistent issues and a lack of knowledge with this tooling, it was eventually decided to
switch from this tooling to \gls{apt} a tool built and maintained by the \gls{mq} Level 3 Service 
team and which was being considered being supported by the lab-wide build team.

This left a hole for the automation of delivering fixes for the suite of Eclipse-based tools 
\gls{cics} has. I was asked to develop a solution, \gls{edt}\footnote{Explorer is a shortening of 
\gls{cics} Explorer; the main Eclipse-based tool for \gls{cics}}, which had to be resilient to the
problems which had plagued the old tooling.

Developing this tooling also increased my exposure to the team's \gls{rtc} environment and lead to
me being partly responsible for maintaining the structure of work items (representations of 
\gls{apar}s and other associated tasks the team required to follow the service process).

Towards the end of my year I was also picked as part of a small team to plan and run the inductions
for the \gls{swg}-based \gls{it}s for 2012-13. As well as this I was a member of the main team for
Smart Cursor, a side project to continue the Extreme Blue project of the same name
(\href{http://www.bbc.co.uk/news/technology-14859157}{BBC News Article}).

\chapter{Technical and Application Environments}

Most systems I worked with in \gls{ibm} were either mainframe (z/OS or z/Linux systems), \gls{retr}
and SPA were both being z/OS application\footnote{Interesting point: \gls{retr} is a \gls{cics} 
application}; or Linux servers, typically \gls{rhel}.

Because \gls{cics} is almost entirely mainframe-based the department has access to several of the
on-site mainframes. However, with the introduction of \gls{rtc} the department has also required
the use of Linux servers to host the \gls{rtc} server on and to run build engines that hook into
\gls{rtc} and perform useful tasks, such as building \gls{cics} or polling \gls{apar}s into 
\gls{rtc} Work Items. Some of these were virtualised machines maintained by the Infastructure team
in Hursley, whilst others were physical machines the department maintained.

The statsitics tools I was responsible for were hosted on two different systems; the Java-based
tool ran on a \gls{rhel} CentOS 5 server running \gls{was}, \gls{mq} and \gls{db2}. Whilst the 
other was a Windows XP machine running Lotus Notes 8.5 and \gls{pcomm} sessions into \gls{retr} and
SPA.

For \gls{rtc} build engines, the department had access to several virtualised servers; one 
\gls{rhel} CentOS 4 server (winlnx0u.hursley.ibm.com) which was removed towards the end of my year
due to CentOS 4 going out of \gls{ibm} support and was replaced with two \gls{rhel} CentOS 6 
servers (cicspoller1.hursley.ibm.com and cicspoller2.hursley.ibm.com). All these servers ran 
\gls{rtc} 3.1.0.1 Build Engines which accessed the main departmental \gls{rtc} servers
(jazz104.hursley.ibm.com and jazz114.hursley.ibm.com). Another machine, local to the department
(hsm.hursley.ibm.com) was used as a back-up Build Engine machine, in case the server running the
virtualised servers should go down. HSM was also used as a testing environment for new releases of
\gls{rtc}.


\chapter{My role in IBM}

When I first join I started with a two day induction in the North Harbour office in Portsmouth 
which covered the general environment I would be working, Health and Safety and the Business 
Conduct Guidelines. As well as some information about what I could do during the year. I received
my work laptop and met with my \gls{pdm}.

On the third day I started properly in the Hursley office and joined the \gls{cics} Level 3 Service
team. The team was formed of around 20-25 members including several Graduates and a another 
\gls{it} coming to the end of his year at \gls{ibm}.

The current \gls{it}, Abul, assisted me with the set-up of my laptop and with settling into the 
role of maintaining the team's Java-based statistics tool which run on \gls{was}. This tool would 
poll \gls{retr} for \gls{pmr}s and \gls{apar}s on an hourly basis and also connected to SPA using 
\gls{mq}. This information was collected into a \gls{db2} database.

Every day a report would be generated for the previous day's reciepts of \gls{pmr}s \gls{apar}s 
from the data in the database which was sent to the team leaders and the appropriate 
1\textsuperscript{st} and 2\textsuperscript{nd} Line Managers. It would also use the database to
create a similar report monthly, as well as performing a backup of data.

Finally, using \gls{j2ee} the tool provided a \gls{jsp} website which could be accessed by any 
member of the \gls{cics} Level 3 Service BlueGroup\footnote{Effectively an \gls{ldap} Group}.

I started out fixing some minor issues with this tool and learning the \gls{rtc} Client \gls{api}
in the effort to pull \gls{apar} data from the \gls{db2} database across to a view in the \gls{rtc}
eclipse client.

Soon after Abul left I was also given charge of a Lotus Notes-based statistics tool which collected
similar information as the aforementioned statistics tool. This one, however, was more manual and
required the maintainer to run a scan at least once per day. This tool directly interfaced with 
four \gls{pcomm} sessions, two of which connected to \gls{retr} and two to UKCPSG.

The \gls{retr} sessions handled \gls{pmr} and \gls{apar} polling. Collecting full information on
\gls{pmr} data, and basic data on \gls{apar} data. One of the UKCPSG sessions connected into SPA 
and gathered data on the current progress of \gls{apar}s, whilst the other ran an internal routine 
called QA which collated \gls{apar} information from different SPA sub-sections for a more full
report on the \gls{apar} in question.

A few months into this I was asked to help maintain the team's \gls{apar} Poller; a large tool 
which polled \gls{apar}s in \gls{retr}, creating them as a work item in \gls{rtc} if the \gls{apar}
didn't already exist in the \gls{rtc} server or updating the existing work item with any changes
which had been made in \gls{retr}. This was originally designed to be a two-way bridge (changes in
the \gls{rtc} \gls{apar} work item could update the \gls{retr} \gls{apar}. However as permissions
for the \gls{rtc} work item were less secure as the ones in \gls{retr} so this bridge had been 
disabled).

The \gls{apar} Poller ran on a \gls{rtc} Build Engine; this build engine would connect into a 
\gls{rtc} server, which would hand the engine tasks to perform depending on build definitions on
the \gls{rtc} server.

My main role in maintaining this was to keep it working as some of the internal libraries it used
updated regularly and, contrary to guidelines, sometimes broke backwards-compatability. This 
proved to be difficult with the sheer size of the application and the way in which it was invoked.

The application was invoked using Apache Ant; an open source tool similar to GNU Make, but designed
for Java applications. Whilst this in itself was a good design descision, the readability of the 
Ant scripts was less than desirable. To add to this some of the variables were taken from the 
Build Engine Definition on the \gls{rtc} server, some from the Build, some from flat files and some
hardcoded into the Ant scripts. This made it nearly impossible to debug.

Mark Richards, a fellow member of the \gls{cics} Level 3 Service team also charged with maintaining
the poller, and I both raised our concerns for the maintainability of the Poller in the long run.
With these concerns aboard a number of meetings were set up with the /gls{mq} Level 3 Service team
to discuss their solution, \gls{apt}.

\gls{apt} performed very similar function as the \gls{apar} Poller did; however it was a lot more
simplistic. Despite this it was being considered by the Hursley Build Team as a lab-wide solution
which they could maintain easily. Due to this the \gls{cics} Level 3 Service team had a vested
interest in this solution and, after a fair few meetings, came up with a list of requirements we
would need to be added to \gls{apt} for us to replace the poller with.

With this came another problem. In the \gls{cics} Explorer and associated Eclipse-based tools 
branch of the poller code was a mechanism to deliver \gls{apar} fixes to the \gls{ibm} 
update-sites and to Fix Central; the centralised location for the majority of fix packs. Due to the
nature of \gls{cics} this site was only used for the eclipse-based tools\footnote{A fix for 
\gls{cics} are released as a \gls{ptf}; a common mechanism for z/OS applications.}.

This functionality was a useful step for the few memebers of the team who worked with the 
Eclipse-based tools in the delivery of fixes. Mark Richards was the one to request that I re-write
a more maintainable version of this code using \gls{osgi} and following good practices for Java,
\gls{osgi} and the IBM guidelines. I worked with him closely whilst designing the system and to 
help fix problems once I had started to write the code.

During this time I was also given another piece of work which reguarded the documentation of trace
messages in one of the \gls{cics} domains. I was set-up with read-only access to the \gls{cics} 
3.1, 3.2 and 4.1 source code on SPA and tasked with checking the difference between the source code
definitions of trace codes and the documented versions on the \gls{ibm} information centre to check
for inconsistencies (i.e. added or removed entries and entires with incorrect parameters) and note
down the correct version to be sent to UTD, the department which handles documentation.

Almost immediately after completing this work I was asked to create a small eclipse-plugin to print
the team's \gls{uhl} \gls{rtc} work items in a similar form to the old version done by SPA. The 
\gls{uhl} is a report of all the work which goes into diagnosing and fixing an \gls{apar} and are
used heavily in the \gls{apar} reviews. They are also used if an \gls{apar} goes \gls{pe}, where
the fix causes a problem, to identify why the \gls{apar} went \gls{pe} and how the process can be
changed to prevent such action happening again.


\end{document}
